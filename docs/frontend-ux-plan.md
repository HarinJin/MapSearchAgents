# 프론트엔드 UX 설계 문서

## 개요

자연어 지도 검색 결과를 효과적으로 시각화하기 위한 프론트엔드 UX 설계 문서입니다.

---

## 핵심 UI 컴포넌트

### 1. 지도 영역 (Map View)

#### 마커 시스템

| 마커 유형 | 용도 | 시각적 특징 |
|----------|------|------------|
| 기본 마커 | 검색 결과 장소 | 번호 표시, 카테고리별 색상 |
| 강조 마커 | 조건 일치 장소 | 크기 확대, 하이라이트 효과 |
| 선택 마커 | 현재 선택된 장소 | 팝업/인포윈도우 표시 |
| 클러스터 마커 | 밀집 지역 | 숫자 표시, 줌 인 유도 |

#### 경로 표시

```
[출발지] -------- [경유지] -------- [도착지]
           ↑
    검색된 장소들이 경로를 따라 마커로 표시
```

### 2. 사이드 패널 (Place List)

```
┌─────────────────────────────────┐
│ 🔍 "작업하기 좋은 카페"          │
│ 📍 강남역 2km 내 • 5개 결과      │
├─────────────────────────────────┤
│ ① 스타벅스 강남역점              │ ← 마커 ①과 연동
│    📍 150m • ☕ 카페              │
│    🅿️ 주차가능 • 💻 콘센트 있음   │ ← 조건 매칭 강조
│    [카카오맵에서 보기]            │
├─────────────────────────────────┤
│ ② 투썸플레이스 강남점            │
│    📍 230m • ☕ 카페              │
│    💻 콘센트 있음                 │
│    [카카오맵에서 보기]            │
└─────────────────────────────────┘
```

### 3. 조건 강조 UX

---

## 사용자 시나리오별 UI

### 시나리오 1: 단순 검색

**쿼리**: "강남역 근처 카페"

**UI 동작**:
1. 강남역 중심으로 지도 이동
2. 반경 내 카페들에 마커 표시
3. 사이드 패널에 거리순 목록

```
┌──────────────────┬────────────────────┐
│                  │ 검색 결과 (15개)   │
│    [지도 영역]   │ ① 스타벅스 78m     │
│     ① ② ③      │ ② 커피빈 174m      │
│       ④         │ ③ 투썸 203m        │
│                  │ ...                │
└──────────────────┴────────────────────┘
```

### 시나리오 2: 조건 검색

**쿼리**: "주차장 있고 작업하기 좋은 카페"

**UI 동작**:
1. 검색 결과 표시
2. **조건 매칭 배지** 표시
3. 매칭 정도에 따른 **정렬/강조**

```
┌──────────────────┬────────────────────────────┐
│                  │ 🔍 조건: 주차장, 작업 환경  │
│    [지도 영역]   ├────────────────────────────┤
│     ⭐①         │ ⭐① 스타벅스 리저브         │
│       ② ③      │    🅿️ 주차 • 💻 콘센트      │
│                  │    ✅ 조건 2개 일치         │
│                  ├────────────────────────────┤
│                  │ ② 투썸플레이스              │
│                  │    💻 콘센트                │
│                  │    ⚠️ 주차 정보 없음        │
└──────────────────┴────────────────────────────┘
```

### 시나리오 3: 경로 검색

**쿼리**: "강남에서 판교 가는 길에 해장국집"

**UI 동작**:
1. 출발지-도착지 경로 표시
2. 경로 상의 장소들 마커 표시
3. **경로 구간별 그룹화**

```
┌──────────────────┬────────────────────────────┐
│   [A]            │ 🛣️ 강남 → 판교 경로        │
│    ╲             ├────────────────────────────┤
│     ① ②        │ 📍 강남 구간 (0-5km)        │
│      ╲           │   ① 신사해장국 2.1km       │
│       ③ ④      │   ② 황소해장 3.4km         │
│        ╲         ├────────────────────────────┤
│         [B]      │ 📍 양재 구간 (5-10km)      │
│                  │   ③ 본가순대국 7.2km       │
└──────────────────┴────────────────────────────┘
```

---

## 데이터-UI 매핑

### AgentResponse → UI 컴포넌트

| AgentResponse 필드 | UI 컴포넌트 | 표시 방식 |
|-------------------|-------------|----------|
| `places[].displayName` | 장소 카드 제목 | 굵은 텍스트 |
| `places[].distance` | 거리 배지 | "150m" 형식 |
| `places[].categoryGroupName` | 카테고리 아이콘 | ☕🍽️🏨 등 |
| `places[].placeUrl` | 상세 링크 | "카카오맵에서 보기" 버튼 |
| `places[].lat, lng` | 마커 위치 | 지도상 좌표 |
| `searchParams.location` | 지도 중심점 | 검색 기준점 |
| `searchParams.radius` | 검색 반경 원 | 반투명 원형 오버레이 |
| `timeCondition.userGuidance` | 안내 배너 | 상단 알림 |

### 조건 매칭 표시

카카오 API가 제공하지 않는 조건 정보 처리:

| 사용자 조건 | API 제공 여부 | UI 표시 방식 |
|------------|--------------|-------------|
| "주차장" | ❌ 미제공 | "🅿️ 주차 정보는 카카오맵에서 확인" |
| "콘센트" | ❌ 미제공 | "💻 편의시설은 카카오맵에서 확인" |
| "영업중" | ❌ 미제공 | "⏰ 영업시간은 카카오맵에서 확인" |
| "카페" | ✅ categoryCode | CE7 아이콘 표시 |
| "강남역 근처" | ✅ distance | "150m" 배지 표시 |

---

## 마커-목록 연동

### 인터랙션 규칙

```
┌─────────────────────────────────────────────┐
│  [마커 클릭]                                │
│      ↓                                      │
│  사이드 목록 해당 항목 스크롤 + 하이라이트   │
│      ↓                                      │
│  인포윈도우 표시                            │
└─────────────────────────────────────────────┘

┌─────────────────────────────────────────────┐
│  [목록 항목 클릭]                           │
│      ↓                                      │
│  지도 해당 마커로 이동 + 줌                  │
│      ↓                                      │
│  마커 강조 애니메이션                       │
└─────────────────────────────────────────────┘
```

### 동기화 상태

| 상태 | 마커 | 목록 항목 |
|------|------|----------|
| 기본 | 일반 크기 | 일반 스타일 |
| 호버 | 살짝 확대 | 배경색 변경 |
| 선택 | 크게 확대 + 인포윈도우 | 강조 테두리 |
| 조건매칭 | 특수 아이콘 | 배지 표시 |

---

## 컴포넌트 구조 (예상)

```
<MapSearchApp>
  ├── <SearchHeader>
  │   ├── <QueryInput />
  │   └── <FilterChips />
  │
  ├── <MainContent>
  │   ├── <MapView>
  │   │   ├── <KakaoMap />
  │   │   ├── <MarkerLayer />
  │   │   ├── <RouteLayer />
  │   │   └── <InfoWindow />
  │   │
  │   └── <SidePanel>
  │       ├── <SearchSummary />
  │       ├── <ConditionBanner />  ← 시간/조건 안내
  │       └── <PlaceList>
  │           └── <PlaceCard />
  │
  └── <BottomSheet>  ← 모바일용
      └── <PlaceDetail />
```

---

## 기술 스택 고려사항

### 지도 라이브러리

| 옵션 | 장점 | 단점 |
|------|------|------|
| Kakao Maps SDK | 카카오 API 네이티브 연동 | 커스터마이징 제한 |
| react-kakao-maps-sdk | React 친화적 | 의존성 추가 |
| 직접 구현 | 완전한 제어 | 개발 시간 |

### 상태 관리

- 선택된 장소 동기화 (마커 ↔ 목록)
- 검색 결과 캐싱
- 경로 상태

---

## TODO

- [ ] 와이어프레임 작성
- [ ] 컴포넌트 상세 명세
- [ ] 인터랙션 플로우 정의
- [ ] 반응형 브레이크포인트
- [ ] 접근성 고려사항

---

*작성일: 2026-01-25*
